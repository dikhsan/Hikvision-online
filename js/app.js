(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],f=0,m=[];f<s.length;f++)i=s[f],r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},5133:function(e,t,n){"use strict";var a=n("a3cf"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getParam",function(){return Se}),n.d(a,"recentHistory",function(){return we});var r={};n.r(r),n.d(r,"updateData",function(){return Oe});var o={};n.r(o),n.d(o,"setData",function(){return Me});n("cadf"),n("551c"),n("f751"),n("097d");var i,s=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("van-tabs",{staticClass:"nav-bar-top",model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:e.$t("message.home")}}),n("van-tab",{attrs:{title:e.$t("message.income")}}),n("van-tab",{attrs:{title:e.$t("message.margin")}}),n("van-tab",{attrs:{title:e.$t("message.cost")}}),n("van-tab",{attrs:{title:e.$t("message.grossMargin")}})],1),n("router-view",{staticClass:"view"}),n("button",{on:{click:e.handleClick}},[e._v("获取数据")])],1)},l=[],u=n("bd86"),f=(n("b000"),n("1a23")),m=(n("bda71"),n("5e46")),p=(n("da3c"),n("0b33")),d=(n("5246"),n("6b41")),h=(n("ac6a"),n("d225")),v=n("b0b4"),g={rankByCustomer:{qDimensions:["单位名称"],qMeasures:["=num(Sum(客户销售金额),'#,###,###.')"]},rankByCommodity:{qDimensions:["商品名称","商品排序"],qMeasures:["=num(Sum(商品销售金额),'#,###,###.')","=num(Sum(商品销售金额)/Sum(total 商品销售金额),'#,##.00%')"]},mapData:{qDimensions:["市名称"],qMeasures:["=Sum({<省名称={'湖北省'}>}销售金额)"]},halfYearIncome:{qDimensions:["月份"],qMeasures:["=Sum({<年月={'>=$(vPre6Month)'},[日期_WID]={'<=$(vd)'}>}[销售金额])/10000/10000","=Sum({<年月={'>=$(vPre6Month)'},[日期_WID]={'<=$(vd)'}>}[销售金额])/Sum({<年月={'>=$(vPre18Month)<=$(vPre12Month)'},[日期_WID]={'<=$(vlast1d)'}>}[销售金额]) -1"]},yearTotalIncome:{qDimensions:[],qMeasures:["=Sum(销售金额)"]}},b=g,x=function(){function e(){Object(h["a"])(this,e)}return Object(v["a"])(e,[{key:"_initParam",value:function(e,t){if(0===e.length)return[];var n=[],a={};return e.forEach(function(e,r){"measure"===t?a={qDef:{qDef:e}}:"dimension"===t&&(a={qDef:{qFieldDefs:[e]},qNullSuppression:!0}),n.push(a)}),n}},{key:"getData",value:function(e,t,n,a){var r=b[n].qDimensions,o=b[n].qMeasures,i={qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:1e3,qWidth:4}]};i.qDimensions=this._initParam(r,"dimension"),i.qMeasures=this._initParam(o,"measure"),e.createCube(i,function(e){var n=e.qHyperCube.qDataPages[0].qMatrix;e.qHyperCube.qGrandTotalRow;t.$store.dispatch("updateData",{dataName:a,data:n})})}}]),e}(),y=x,_=new y,C={name:"App",components:(i={},Object(u["a"])(i,d["a"].name,d["a"]),Object(u["a"])(i,p["a"].name,p["a"]),Object(u["a"])(i,m["a"].name,m["a"]),Object(u["a"])(i,f["a"].name,f["a"]),i),data:function(){return{active:1,lang:!0,pageMap:{0:"overall",1:"income",2:"margin",3:"cost",4:"grossMargin"},pageTitleMap:{0:"总体情况",1:"工作类型",2:"拜访统计",3:"计划执行",4:"拜访预警"}}},mounted:function(){_.getData(qApp,this,"rankByCustomer","customerData")},methods:{onClickLeft:function(){console.log("onClickLeft")},handleClick:function(){console.log("handleClick:"),_.getData(qApp,this,"rankByCustomer","customerData")}},watch:{active:function(e){console.log("pIndex: ",e),this.$router.push(this.pageMap[e])},lang:function(e){e?(this.$i18n.locale="en",this.$Local("en")):(this.$i18n.locale="zhCHS",this.$Local("zhCHS"))}}},D=C,q=(n("034f"),n("2877")),S=Object(q["a"])(D,c,l,!1,null,null,null),$=S.exports,w=n("8c4f"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content flex flex-column"},[n("div",{attrs:{id:"zr_test_hk_001"}}),e._l(e.list,function(t,a){return n("span",{key:a,domProps:{innerHTML:e._s("<p>"+t+"</p>")}})})],2)},M=[],j={data:function(){return{active:0,list:[]}},created:function(){this.setList()},mounted:function(){},methods:{setList:function(){for(var e=0;e<100;e++)this.list.push(e)}}},k=j,P=(n("f833"),Object(q["a"])(k,O,M,!1,null,"561dee50",null)),E=P.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"income flex flex-column flex-1"},[n("pie",{staticClass:"flex flex-1",attrs:{id:"pie-1",eData:e.pie_1}}),n("div",{staticClass:"flex-1",attrs:{id:"chart-2"}})],1)},B=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-1 relative",class:e.id+"-box"},[n("div",{staticClass:"flex-1",attrs:{id:e.id}})])},H=[],T=n("f499"),A=n.n(T),I=n("5176"),W=n.n(I),N=n("313e"),F=n.n(N),G={normal:{label:{show:!0,color:"#fff",fontSize:18},labelLine:{length:12,length2:12,lineStyle:{color:"rgba(20,150,200,0.7)"}}}},J={show:!0,normal:{formatter:"{c}\n{d}%",fontSize:15,color:"black"}},Y={backgroundColor:"rgba(0,0,0,0)",color:["#00358e","#0053b7","#036dd8","#059de0","#00b9cc","#81c106","#aeb702","#dda03e"],tooltip:{show:!0,formatter:"{b} <br/> {c} ({d}%)"},angleAxis:{type:"category",z:10,axisLine:{color:"#fff",lineStyle:{width:1,color:"#1595C8"}}},radiusAxis:{axisTick:{show:!1},axisLabel:{show:!1,color:"#fff"},axisLine:{show:!1,color:"#fff",lineStyle:{color:"#fff"}},splitLine:{color:"#000",lineStyle:{type:"dotted",color:"rgba(170,170,170,.5)"}}},polar:{center:["40%","52%"],radius:"56%"},legend:{show:!0,orient:"vertical",left:"75%",top:"20%",icon:"circle",textStyle:{color:"#54C0E6",fontSize:14},itemWidth:14,itemHeight:14,itemGap:15,data:[]},series:{type:"pie",clockWise:!0,center:["40%","52%"],radius:["40%","53%"],itemStyle:G,hoverAnimation:!0,label:{fontSize:15},data:[]}},R=n("7618");function K(){}K.prototype.deepClone=function(e){var t=e.constructor===Array?[]:{};for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"===Object(R["a"])(e[n])?(t[n]=e[n].constructor===Array?[]:{},t[n]=this.deepClone(e[n])):t[n]=e[n]);return t};var Q=K,U=new Q,V={name:"pie",props:{id:{type:String,default:Math.random().toFixed(8)},eData:{type:Array,default:function(){return[]}}},data:function(){return{eBean:null,option:U.deepClone(Y)}},mounted:function(){this.eBean=F.a.init(document.getElementById(this.id)),this.setOption()},watch:{eData:{handler:function(e,t){this.isDiff(e,t)&&(this.eBean.dispose(),this.eBean=F.a.init(document.getElementById(this.id)),this.setOption())},deep:!0}},methods:{setOption:function(){var e=W()([],this.eData),t=[],n=[];e.forEach(function(e){e.label=J,t.push(e[0].qText),n.push({value:e[1].qNum,name:e[0].qText})}),this.option.legend.data=W()([],t),this.option.series.data=W()([],n),this.eBean.setOption(this.option)},isDiff:function(e,t){return A()(e)!=A()(t)}},beforeDestroy:function(){this.eBean.clear(),this.eBean.dispose(),this.eBean=null}},X=V,Z=Object(q["a"])(X,z,H,!1,null,"0c65808c",null),ee=Z.exports,te={name:"HelloWorld",data:function(){return{}},computed:{pie_1:function(){return this.$store.state.customerData}},mounted:function(){qApp.getObject("chart-2","YzDTLdP")},methods:{},components:{pie:ee}},ne=te,ae=(n("5133"),Object(q["a"])(ne,L,B,!1,null,null,null)),re=ae.exports,oe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-column flex-1"},[n("div",{staticClass:"content flex-1"},[e._v("margin page")])])}],se={data:function(){return{active:0}}},ce=se,le=Object(q["a"])(ce,oe,ie,!1,null,"cb349a46",null),ue=le.exports,fe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-column flex-1"},[n("div",{staticClass:"content flex-1"},[e._v("cost page")])])}],pe={data:function(){return{active:0}}},de=pe,he=Object(q["a"])(de,fe,me,!1,null,"08570142",null),ve=he.exports,ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-column flex-1"},[n("div",{staticClass:"content flex-1"},[e._v("gross margin page")])])}],xe={data:function(){return{active:0}}},ye=xe,_e=Object(q["a"])(ye,ge,be,!1,null,"1ba4aaf8",null),Ce=_e.exports;s["a"].use(w["a"]);var De=new w["a"]({routes:[{path:"/overall",name:"overall",component:E},{path:"/income",name:"income",component:re},{path:"/margin",name:"margin",component:ue},{path:"/cost",name:"cost",component:ve},{path:"/grossMargin",name:"grossMargin",component:Ce}]}),qe=n("2f62"),Se=function(e,t){return e[t]},$e=5,we=function(e){var t=e.history.length,n=t-$e<0?0:t-$e;return e.history.slice(n,t).join(", ")},Oe=function(e,t){var n=e.commit;n("setData",t)},Me=function(e,t){var n=t.dataName,a=t.data;console.log("params: ",n,a),e[n]=a};s["a"].use(qe["a"]);var je={customerData:{}},ke=new qe["a"].Store({state:je,getters:a,actions:r,mutations:o});var Pe=ke,Ee=(n("499a"),n("a925")),Le={home:"home",income:"income",margin:"margin",cost:"cost",grossMargin:"gross margin"},Be=Le,ze={home:"总体情况",income:"收入",margin:"毛利",cost:"费用",grossMargin:"扣费毛利"},He=ze,Te={en:{message:Be},zhCHS:{message:He}},Ae=Te,Ie=(n("b0d0"),n("3c69")),We=n("91f4"),Ne=n.n(We),Fe=n("b459"),Ge=n.n(Fe);function Je(e){"en"==e?Ie["a"].use("en",Ne.a):"zhCHS"==e&&Ie["a"].use("zhCHS",Ge.a)}s["a"].use(Ee["a"]);var Ye=new Ee["a"]({locale:"zhCHS",messages:Ae});s["a"].prototype.$Local=Je,s["a"].config.productionTip=!1,new s["a"]({el:"#app",store:Pe,router:De,i18n:Ye,render:function(e){return e($)}})},"64a9":function(e,t,n){},a3cf:function(e,t,n){},aee4:function(e,t,n){},f833:function(e,t,n){"use strict";var a=n("aee4"),r=n.n(a);r.a}});
//# sourceMappingURL=app.js.map